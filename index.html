<!doctype html>
<html lang="de">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>SpongeBob Quiz â€” Made by enes</title>
  <style>
    :root{--bg:#f0f8ff;--card:#ffffff;--accent:#ffcc00;--muted:#6b7280}
    *{box-sizing:border-box;font-family:Segoe UI,Roboto,Arial,Helvetica,sans-serif}
    body{margin:0;background:linear-gradient(180deg,#aee7ff 0%, #f0f8ff 100%);min-height:100vh;display:flex;align-items:center;justify-content:center;padding:24px}
    .card{width:100%;max-width:760px;background:var(--card);border-radius:12px;padding:20px;box-shadow:0 10px 30px rgba(2,6,23,0.12)}
    header{display:flex;align-items:center;justify-content:space-between;gap:12px}
    h1{margin:0;font-size:20px;display:flex;align-items:center;gap:10px}
    .made{font-size:13px;color:var(--muted)}
    .question{margin-top:18px;font-size:18px;font-weight:600}
    .choices{margin-top:12px;display:flex;flex-direction:column;gap:8px}
    label.choice{display:flex;align-items:center;gap:10px;padding:10px;border-radius:8px;border:1px solid rgba(16,24,40,0.04);cursor:pointer}
    input[type=radio]{accent-color:var(--accent)}
    .controls{display:flex;gap:10px;margin-top:14px}
    button{padding:10px 14px;border-radius:10px;border:none;background:#1e40af;color:white;font-weight:600;cursor:pointer}
    button.ghost{background:transparent;border:1px solid rgba(16,24,40,0.06);color:var(--muted)}
    .meta{display:flex;gap:12px;align-items:center;margin-top:12px;color:var(--muted)}
    .result{margin-top:14px;font-weight:700}
    footer{margin-top:18px;text-align:right;color:var(--muted);font-size:13px}
    @media (max-width:560px){.controls{flex-direction:column}} 
  </style>
</head>
<body>
  <main class="card" role="main" aria-labelledby="title">
    <header>
      <h1 id="title">SpongeBob Quiz <span aria-hidden="true">ðŸ§½</span></h1>
      <div class="made">Made by enes</div>
    </header>

    <p class="lead">Teste dein Wissen Ã¼ber SpongeBob und seine Freunde! FÃ¼r richtige und falsche Antworten gibt es kurze Sounds.</p>

    <div id="quiz">
      <!-- Question area -->
      <div id="qbox">
        <div class="question" id="question">Frage wird geladen...</div>
        <div class="choices" id="choices"></div>
      </div>

      <div class="controls">
        <button id="check">Antwort prÃ¼fen</button>
        <button id="next" class="ghost">NÃ¤chste Frage</button>
        <button id="restart" class="ghost">Neu starten</button>
      </div>

      <div class="meta">
        <div>Frage: <strong id="qindex">0</strong>/<strong id="qtotal">0</strong></div>
        <div>Punkte: <strong id="score">0</strong></div>
      </div>

      <div class="result" id="message" aria-live="polite"></div>
    </div>

    <footer>Viel SpaÃŸ! â€” Made by enes</footer>
  </main>

  <script>
    // Fragen-Set (Beispielfragen)
    const QUESTIONS = [
      {
        q: 'Wie heiÃŸt SpongeBobs beste Freundin (sehr nervig, aber nett)?',
        choices: ['Patrick Star', 'Sandy Cheeks', 'Mr. Krabs', 'ThaddÃ¤us'],
        a: 0
      },
      {
        q: 'Welche Farbe hat SpongeBobs Hose?',
        choices: ['GrÃ¼n', 'Blau', 'Braun', 'Lila'],
        a: 2
      },
      {
        q: 'Wie heiÃŸt die Stadt, in der SpongeBob wohnt?',
        choices: ['Bikini Bottom', 'Coral Cove', 'Shell City', 'Ocean Town'],
        a: 0
      },
      {
        q: 'Wer betreibt die Krossen Krabbe?',
        choices: ['SpongeBob', 'Mr. Krabs', 'Plankton', 'ThaddÃ¤us'],
        a: 1
      },
      {
        q: 'Womit ist Sandy Cheeks besonders bekannt?',
        choices: ['Als Meerjungfrau', 'Als Wissenschaftlerin/Erfinderin', 'Als SÃ¤ngerin', 'Als KÃ¶chin'],
        a: 1
      }
    ]

    // Spielzustand
    let index = 0
    let score = 0
    let selected = null
    const total = QUESTIONS.length

    // Elemente
    const $question = document.getElementById('question')
    const $choices = document.getElementById('choices')
    const $check = document.getElementById('check')
    const $next = document.getElementById('next')
    const $restart = document.getElementById('restart')
    const $message = document.getElementById('message')
    const $qindex = document.getElementById('qindex')
    const $qtotal = document.getElementById('qtotal')
    const $score = document.getElementById('score')

    $qtotal.textContent = total

    // WebAudio setup for dynamic sounds (no external files)
    const audioCtx = new (window.AudioContext || window.webkitAudioContext)()

    function playCorrect(){
      // short ascending melody
      const now = audioCtx.currentTime
      const freqs = [600, 900, 1200]
      freqs.forEach((f,i)=>{
        const o = audioCtx.createOscillator()
        const g = audioCtx.createGain()
        o.type = 'sine'
        o.frequency.value = f
        g.gain.value = 0.0001
        o.connect(g)
        g.connect(audioCtx.destination)
        g.gain.setValueAtTime(0.0001, now + i*0.06)
        g.gain.exponentialRampToValueAtTime(0.15, now + i*0.06 + 0.02)
        g.gain.exponentialRampToValueAtTime(0.0001, now + i*0.06 + 0.18)
        o.start(now + i*0.06)
        o.stop(now + i*0.06 + 0.18)
      })
    }

    function playWrong(){
      // short buzz / low tone
      const now = audioCtx.currentTime
      const o = audioCtx.createOscillator()
      const g = audioCtx.createGain()
      o.type = 'sawtooth'
      o.frequency.value = 160
      g.gain.value = 0.0001
      o.connect(g)
      g.connect(audioCtx.destination)
      g.gain.setValueAtTime(0.0001, now)
      g.gain.exponentialRampToValueAtTime(0.12, now + 0.02)
      g.gain.exponentialRampToValueAtTime(0.0001, now + 0.28)
      o.start(now)
      o.stop(now + 0.28)
    }

    function renderQuestion(){
      const Q = QUESTIONS[index]
      $question.textContent = Q.q
      $choices.innerHTML = ''
      selected = null
      Q.choices.forEach((c,i) => {
        const id = `c_${i}`
        const label = document.createElement('label')
        label.className = 'choice'
        label.htmlFor = id
        label.innerHTML = `<input type="radio" name="choice" id="${id}" value="${i}" /> <span>${c}</span>`
        $choices.appendChild(label)
      })
      $qindex.textContent = index+1
      $message.textContent = ''
      $score.textContent = score
    }

    // Event delegation for choice selection
    $choices.addEventListener('change', (e) => {
      if(e.target && e.target.name === 'choice'){
        selected = Number(e.target.value)
      }
    })

    $check.addEventListener('click', () => {
      // resume audio context on user gesture if needed
      if(audioCtx.state === 'suspended') audioCtx.resume()

      if(selected === null){
        $message.textContent = 'Bitte wÃ¤hle zuerst eine Antwort.'
        return
      }
      const correct = QUESTIONS[index].a
      if(selected === correct){
        score += 1
        $message.textContent = 'Richtig! ðŸŽ‰' 
        playCorrect()
      } else {
        $message.textContent = `Falsch. Richtige Antwort: ${QUESTIONS[index].choices[correct]}`
        playWrong()
      }
      $score.textContent = score
      // disable choices after checking
      const inputs = $choices.querySelectorAll('input')
      inputs.forEach(i => i.disabled = true)
    })

    $next.addEventListener('click', () => {
      index += 1
      if(index >= total){
        $message.textContent = `Quiz beendet! Du hast ${score} von ${total} Punkten.`
        // show restart suggestion
        index = 0
        score = 0
      }
      renderQuestion()
    })

    $restart.addEventListener('click', () => {
      index = 0
      score = 0
      renderQuestion()
    })

    // initial render
    renderQuestion()

  </script>
</body>
</html>